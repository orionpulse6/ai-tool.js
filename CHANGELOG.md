# Changelog

All notable changes to this project will be documented in this file. See [commit-and-tag-version](https://github.com/absolute-version/commit-and-tag-version) for commit guidelines.

## [0.0.4](https://github.com/isdk/ai-tool.js/compare/v0.0.3...v0.0.4) (2024-06-08)

## [0.0.3](https://github.com/isdk/ai-tool.js/compare/v0.0.2...v0.0.3) (2024-06-07)


### Features

* **util:** add matchUrlProtocol func ([9baa772](https://github.com/isdk/ai-tool.js/commit/9baa7720800796548a72fd26ac4d885bbfafb5de))

## 0.0.2 (2024-06-07)


### Features

* add ActionNames ([076c31c](https://github.com/isdk/ai-tool.js/commit/076c31ca6a36cab7fa2a1721ee25cffee0b31743))
* add AIModelNameRule ([e6ae2fc](https://github.com/isdk/ai-tool.js/commit/e6ae2fc574bc9f087ae3df1fcc1e18f9539a8f98))
* add depends option to ToolFunc ([36c1dbd](https://github.com/isdk/ai-tool.js/commit/36c1dbd428b054b720be9483a9cdfa3583f7cbc6))
* add event server/client via SSE ([1f05de6](https://github.com/isdk/ai-tool.js/commit/1f05de654bce8ba1fa3885652c27dfd90afee6eb))
* add event toolfunc ([ab02e46](https://github.com/isdk/ai-tool.js/commit/ab02e46f46d64f11e51510ff0a86a20244a6a1f3))
* add EventName const ([b46a7e8](https://github.com/isdk/ai-tool.js/commit/b46a7e8fef198ab08b26e8a5754b7c86c218c7e3))
* add eventServer, eventClient constants ([c38fa82](https://github.com/isdk/ai-tool.js/commit/c38fa82bacc6c71be9f40d41e73e482d84c56c31))
* add extNameLevel func ([c00021e](https://github.com/isdk/ai-tool.js/commit/c00021e6eb65b8535fbe7d2c22f9b6d35564043f))
* add filename util functions ([0a6a794](https://github.com/isdk/ai-tool.js/commit/0a6a794766559b7c899db30d8c8be104e3b837ba))
* add filterNullOrUndefined func ([cd6e09e](https://github.com/isdk/ai-tool.js/commit/cd6e09ec4635b00397ad8de26945cef76f3d1fe5))
* add FStringPromptTemplate class ([143fa58](https://github.com/isdk/ai-tool.js/commit/143fa58b175b5d34a3a0bfa004cec4eb96987873))
* add get yaml/json config/data files ([ef98583](https://github.com/isdk/ai-tool.js/commit/ef9858391f846abeac298f3e52ff9cb159ec9879))
* add getAllEnumKeys func ([ab0c103](https://github.com/isdk/ai-tool.js/commit/ab0c1037e415b4764624290298f592369066ac3a))
* add getAllEnumKeys func ([9c57c7a](https://github.com/isdk/ai-tool.js/commit/9c57c7aceedbb3d0233dfaf7a30250404cae05c2))
* add getKeysPath func ([19c2709](https://github.com/isdk/ai-tool.js/commit/19c2709f432966c70a89fe3d5bcff7ad11770c1f))
* add getMultiLevelExtname func ([c79ad35](https://github.com/isdk/ai-tool.js/commit/c79ad35f89239dc76505f4b2dc7a38faa1c7d261))
* add golang prompt template ([9dda6d5](https://github.com/isdk/ai-tool.js/commit/9dda6d53a040a9a18017fe7977f304349148075c))
* add hash util ([c0bad40](https://github.com/isdk/ai-tool.js/commit/c0bad40da4f871796b7819b72d2acef5a5412d7b))
* add isModelNameMatched func ([288355f](https://github.com/isdk/ai-tool.js/commit/288355ff53a0235b2877dfa1f23c61add4b675fe))
* add iteratorWrap func from vadzim ([e37afec](https://github.com/isdk/ai-tool.js/commit/e37afec3d72c61d8313eb2bec35e13cfa228c54e))
* add jinja template from huggingface.js ([e3e292d](https://github.com/isdk/ai-tool.js/commit/e3e292db697bf474cd0d4817b558f5a6e7891a8b))
* add more funcs ([1cf700d](https://github.com/isdk/ai-tool.js/commit/1cf700d0b0b4153184e01442a198cf2c9a8ff1f4))
* add obj params and pos params supports both, and defaults to obj params now ([0873e44](https://github.com/isdk/ai-tool.js/commit/0873e44895815507537530e0c607dccc12db3613))
* add parseJsJson func ([8e51239](https://github.com/isdk/ai-tool.js/commit/8e512392294f9e8ae706881b87aef22836e4af27))
* add partial method and toJSON ([fdd36e3](https://github.com/isdk/ai-tool.js/commit/fdd36e39d58abf934179698570eb0a1996b91d86))
* add PromptExampleSelector class ([b60821a](https://github.com/isdk/ai-tool.js/commit/b60821a9bd057244a47a20a4797aab4654114e3a))
* add PromptTemplate ([882f2e1](https://github.com/isdk/ai-tool.js/commit/882f2e15dc4546c8b216408b8643d9eb460c710e))
* add ResServerTools/ResClientTools for RESTful API ([cc6a529](https://github.com/isdk/ai-tool.js/commit/cc6a529f7ae18ffa43353405f3280d2e7f6d7bfc))
* add ServerTools and ClientTools ([a1c4533](https://github.com/isdk/ai-tool.js/commit/a1c4533442611887e41a4904144a4ee86c1ff16c))
* add stream option to RemoteFunc ([a1f8172](https://github.com/isdk/ai-tool.js/commit/a1f81727359f216f7f6e3ed84c36e6a5e47c7e48))
* add tags option to ToolFunc and add getByTag, getAllByTag methods ([cd99642](https://github.com/isdk/ai-tool.js/commit/cd99642e473802ac4fb76a0e194b5162f1d4c4c9))
* add templateFormat option to AIChatMessageParam ([e51f4c6](https://github.com/isdk/ai-tool.js/commit/e51f4c662830cdf1aff95718d02d9e52589aa142))
* **base-error:** add AbortError ([e50292b](https://github.com/isdk/ai-tool.js/commit/e50292bdc3e9a1ef1ba168f21f936bd5a64f3f1e))
* **chat:** add abort to AITextGenerationFinishReasons ([05b93c7](https://github.com/isdk/ai-tool.js/commit/05b93c73e1923cea19b45d3b9d6bdd7c4804850f))
* **chat:** add AIChatMessageParamBase ([a26448d](https://github.com/isdk/ai-tool.js/commit/a26448d22b2f137c9f274885ef9e1158e0dd1a63))
* **chat:** add stop option to AIResult for stream mode ([94d0b7a](https://github.com/isdk/ai-tool.js/commit/94d0b7a75df451de3816c1d942d6f0db0e864ada))
* **ClientTools:** add stream supports and getUrlParams check empty params now ([8fdd7df](https://github.com/isdk/ai-tool.js/commit/8fdd7dfd0d8d9227a5d76c771c8f0456eb44067a))
* **ClientTools:** can raise Error from server ([111b145](https://github.com/isdk/ai-tool.js/commit/111b145e2d4f70202c915f772cb520577b3f4ccd))
* event toolfunc ([1bb3b94](https://github.com/isdk/ai-tool.js/commit/1bb3b94fc91acace7f7b3c2a25a190f657ff3daa))
* export SSEChannel ([2a2d9a0](https://github.com/isdk/ai-tool.js/commit/2a2d9a0234608b133c87c06dd8adc3ba6f85f3ee))
* export the EventClient and EventSever ([aaeb27e](https://github.com/isdk/ai-tool.js/commit/aaeb27ef7bdff63ab8aab5c2f3fcc8f878ffad63))
* export utils functions ([40a7de3](https://github.com/isdk/ai-tool.js/commit/40a7de30ef03a43e228c7d85a7c9c6987a0b9ee4))
* **hf-prompt:** add createHfValueFunc func ([761e786](https://github.com/isdk/ai-tool.js/commit/761e786c0d724fc9375bfd42bf4ee72e28e74417))
* **hf-prompt:** createHfValueFunc support ObjectValue now ([0160128](https://github.com/isdk/ai-tool.js/commit/0160128280ea357494cb9ba3cdb254bcac0af02f))
* **is-model-name-matched:** support regexp string match ([91ae490](https://github.com/isdk/ai-tool.js/commit/91ae490da7d5212e427eaf0a19d9437a6fdd0cad))
* **jinja:** add builtin functions to jinja ([efa56f7](https://github.com/isdk/ai-tool.js/commit/efa56f78bb27fe47a6b44869e53d8c8944347b0e))
* **jinja:** add filter:string/tojson/trimStart/trimEnd, object toString/toJson support ([bfe30e3](https://github.com/isdk/ai-tool.js/commit/bfe30e31d3d3ec3fb60a49175f5d5bf91026469d))
* **jinja:** add isStatement in Statement to help check whether isTemplate ([d89c459](https://github.com/isdk/ai-tool.js/commit/d89c4591826e5027c5bf7499d511f94574b0e1c5))
* **jinja:** add options to Template class ([b626db1](https://github.com/isdk/ai-tool.js/commit/b626db12c634a3ef31baa4fac002c9cd695231f5))
* **jinjia:** Add global Environment to `Template` class ([b97c569](https://github.com/isdk/ai-tool.js/commit/b97c56981b46cbf29333679915d33058e2571319))
* **jinjia:** the arguments of the user defined function is javascript value now ([ad79534](https://github.com/isdk/ai-tool.js/commit/ad79534de5d8d00e388fe6691ef7e65fb42027cf))
* **jinjia:** user defined function can be filter now ([4928730](https://github.com/isdk/ai-tool.js/commit/49287300a3d45342f8029f87e89cbb8e5a922cf0))
* json-filter func ([f8f3648](https://github.com/isdk/ai-tool.js/commit/f8f3648c79a106dce8212e87fef121edf5e18d06))
* **PromptExampleSelector:** add threshold option to the threshold probability (0-1) at which a sample is selected. ([c16a6e4](https://github.com/isdk/ai-tool.js/commit/c16a6e4639727a08de41bd9063e06a1f4c8155d3))
* **PromptTemplate:** add default template format supports to register PromptTemplate alias with "default" ([0b9303b](https://github.com/isdk/ai-tool.js/commit/0b9303b653ebf2726d3fc8e5e22a5f42ee28798f))
* **PromptTemplate:** add FewShotPromptTemplate class ([4b8c78e](https://github.com/isdk/ai-tool.js/commit/4b8c78ebb1896afb2df6f52f21223bf3ea0ead28))
* **PromptTemplate:** add ignoreInitialize option ([5749a2e](https://github.com/isdk/ai-tool.js/commit/5749a2ebe451c974096ef620cbf54742072ff026))
* **PromptTemplate:** add static isTemplate and formatIf methods ([820c3ca](https://github.com/isdk/ai-tool.js/commit/820c3ca199ec11e865ea7c767c37d5becf83c1c1))
* **PromptTemplate:** add static method format ([8e45648](https://github.com/isdk/ai-tool.js/commit/8e45648a4014a09c25edbe97da3e3358b49823ea))
* **PromptTemplate:** add templateFormat option to PromptTemplate ([cb97cc5](https://github.com/isdk/ai-tool.js/commit/cb97cc5f33d4ee73cd5a97e1e3b2a15f6735cde3))
* **ResClientTools:** add ResClientFuncParams ([58d360d](https://github.com/isdk/ai-tool.js/commit/58d360d7f02d0f7ab779112c970fc62ad8834397))
* **ResourceAPI:** add custom methods supports ([c5c67ba](https://github.com/isdk/ai-tool.js/commit/c5c67bafd6c01fb83cd2236324b93b3691a1bbbb))
* **ResServerTools:** add the same custom method without prefix "$" to the instance ([9ed5410](https://github.com/isdk/ai-tool.js/commit/9ed5410e48b06e7b7b1940b60a42a4ddaf0f8648))
* **ServerTools:** add isStream() method ([02f6b85](https://github.com/isdk/ai-tool.js/commit/02f6b854fabdb551a641d66cfe568778dc9249d5))
* **ServerTools:** always pass _req, _res by convention ([5830a56](https://github.com/isdk/ai-tool.js/commit/5830a56a4f9c81b3c22004efd06ace0f7559d417))
* **template:** add env variables expand template ([befcda8](https://github.com/isdk/ai-tool.js/commit/befcda865a621b99ebe81fbca6ff0e8592a04928))
* **test:** add test util to export ([66fa5dd](https://github.com/isdk/ai-tool.js/commit/66fa5dde6009092d4b2fb0270123c49a07b24ac4))
* **ToolFunc:** add dataPath static member ([30e7e10](https://github.com/isdk/ai-tool.js/commit/30e7e101053785ef205d70fbdfbb80b858b9712e))
* use CommonError ([2baf463](https://github.com/isdk/ai-tool.js/commit/2baf4636881907c67bad482fe21bfb2eb7457809))
* **util:** add saveConfigFile func ([abaf2ed](https://github.com/isdk/ai-tool.js/commit/abaf2ed0b9018fd4f262796135ccb8ab0dddc5dd))
* **utils:** add createEndWithRepetitionDetector func ([48f1b68](https://github.com/isdk/ai-tool.js/commit/48f1b680a3f7c1248720cb6611bff43e592fd81a))
* **utils:** add loadFileFromPaths/loadTextFromPaths functions ([04ed009](https://github.com/isdk/ai-tool.js/commit/04ed009a059d6bf2473da24ebbe1d7a6ce172acd))


### Bug Fixes

* add exports to package.json for module need ([0a4d402](https://github.com/isdk/ai-tool.js/commit/0a4d402a7a0fe04cbccd20ae33dfa464a56feeee))
* add items to ClientTools ([3cf2fcd](https://github.com/isdk/ai-tool.js/commit/3cf2fcd1fc0020cc35fcc3e4f1eecfff481ef1f4))
* **AIModelNameRules:** function test could be in the rule array ([689ef5b](https://github.com/isdk/ai-tool.js/commit/689ef5be16c343f6723368cc6d4adc1f81592cda))
* **build:** entries error ([e323825](https://github.com/isdk/ai-tool.js/commit/e3238252da09c0dd3919501c2bec2e8d81b530a6))
* **build:** entries error ([9702d4c](https://github.com/isdk/ai-tool.js/commit/9702d4c78a701f5338e91acb0ccbe18993b71268))
* can not register the depends when calling from ToolFunc.register ([fdba963](https://github.com/isdk/ai-tool.js/commit/fdba963390b28dc415ef48950efad12550aecc6a))
* **ClientTools:** add message to error ([e7b111f](https://github.com/isdk/ai-tool.js/commit/e7b111fcf41875f59e1da867c67a2e078bfbf70f))
* **ClientTools:** allow json object as id ([211a0a9](https://github.com/isdk/ai-tool.js/commit/211a0a9d0ac2e9e041639750e7d1fcebac464a1a))
* **ClientTools:** loadFromSync should assign properties for exists item ([f384eee](https://github.com/isdk/ai-tool.js/commit/f384eee1a5ee03d9cc99bd844d44a4679dc3bcf5))
* **ClientTools:** only setApiRoot on ClientTools ([07b0c64](https://github.com/isdk/ai-tool.js/commit/07b0c648ab6e68cb107f4fcdce51b5c18a28c2a5))
* create SSEChannel on-demand ([170bede](https://github.com/isdk/ai-tool.js/commit/170bede95f205ae1f5b2e40bcd84809c176ba5aa))
* do not escape object id ([7579640](https://github.com/isdk/ai-tool.js/commit/75796403490a40c21b30e4362905399201563ce4))
* do not recreate cache if LRUCache exists ([21b169d](https://github.com/isdk/ai-tool.js/commit/21b169d44e45f446200e53d1410e65eb9baf4bfa))
* **EventToolFunc:** use full EventEmitter ([e3f0474](https://github.com/isdk/ai-tool.js/commit/e3f047432ca92d692e91ae278b6d1baa406cab15))
* **f-string:** should format string when missing value ([f5baa09](https://github.com/isdk/ai-tool.js/commit/f5baa09a9cdf5c893a7799cec103030d7f44549a))
* **hf-prompt:** isTemplate should not treat string as template ([108a0c4](https://github.com/isdk/ai-tool.js/commit/108a0c45f5b1376418573a9ae61923edc6f729ca))
* **hf-prompt:** should test isTemplate without variable ([df4e0d7](https://github.com/isdk/ai-tool.js/commit/df4e0d7ea4293220d058da0927f081f122f82aef))
* import commjs module xxhashjs error ([1c7ac56](https://github.com/isdk/ai-tool.js/commit/1c7ac56996e54b0635ef9ab9beb07ad5d7dab29f))
* **json-filter:** add missing null and boolean supports ([7648ba5](https://github.com/isdk/ai-tool.js/commit/7648ba5bfbbfd9b9aa8f8c135c55c1143a7da0e9))
* **lrucache:** can pass object options now ([751ed81](https://github.com/isdk/ai-tool.js/commit/751ed811a0e7b82f102bd52ca0ef358c0c7e9976))
* only setInternal when pingTimer > 0 ([9ecd1e4](https://github.com/isdk/ai-tool.js/commit/9ecd1e4e4d2940e1d34418ec491bc107c085c004))
* **prompt:** forget to export the FStringPromptTemplate ([491d370](https://github.com/isdk/ai-tool.js/commit/491d3707a38db0a22c4571610d88cbb95a1fc642))
* **PromptTemplate:** _format method should be async or sync ([7ede5f4](https://github.com/isdk/ai-tool.js/commit/7ede5f4bec72f574666bec791ebab9419c6e1ac3))
* **PromptTemplate:** get default template format ([2e821ee](https://github.com/isdk/ai-tool.js/commit/2e821ee0d71677231982c3e1f43d470767f6473b))
* **PromptTemplate:** it should assign the data etc on initialize ([32d1a48](https://github.com/isdk/ai-tool.js/commit/32d1a48d0744fa70341a4c39c28b50af8e4129e4))
* **PromptTemplate:** static from method should apply PromptTemplateOptions only too ([b2a4203](https://github.com/isdk/ai-tool.js/commit/b2a4203f4263d4eff627816c5cb5ff3e2a7664e5))
* **PromptTemplate:** templateFormat should be point to others, usage see FewShotPromptTemplate ([b81b2db](https://github.com/isdk/ai-tool.js/commit/b81b2db827ed31cb04ea1a524b2ab53e3912ae96))
* remove unused entries ([e683c7b](https://github.com/isdk/ai-tool.js/commit/e683c7b782fe633ba4b74620571031b7a7b144f7))
* **ResClientTools:** should escape the id ([f7a0004](https://github.com/isdk/ai-tool.js/commit/f7a00046ec36d05ae56a6571348ed97d88baea6b))
* **ResServerTools:** list should no options ([051e59f](https://github.com/isdk/ai-tool.js/commit/051e59f39499b420ca0317e8dd1b7344c367c550))
* **RESTful:** ResClientTools/ResServerTools can work now ([5bb046c](https://github.com/isdk/ai-tool.js/commit/5bb046ce39b6b6127a26a0b74258b69a5d7832ac))
* **ServerTools:** can not visit func which registered on ToolFunc ([9e4b4b4](https://github.com/isdk/ai-tool.js/commit/9e4b4b40350359c363d439e0a93dd8bd1e5e06da))
* **ServerTools:** ClientTools&ServerTools register items into ToolFunc now, So test it together carefully, seperate them see tests ([4866dbb](https://github.com/isdk/ai-tool.js/commit/4866dbb8324bc1006727b497f8b1b6565076b857))
* **ServerTools:** item could be ToolFunc or  ServerTools ([5989582](https://github.com/isdk/ai-tool.js/commit/5989582d4c02235b0d2b79d55f4d22a7eb5b9e18))
* **ServerTools:** only setApiRoot on ServerTools ([be30938](https://github.com/isdk/ai-tool.js/commit/be3093889ab0332aafe4ef31d86e2675f453c3ae))
* the error name should be the function name ([340aeac](https://github.com/isdk/ai-tool.js/commit/340aeac669d24ff829c137a4e8ddf5426c61fce1))
* **ToolFunc:** do not export depends now ([c777bb6](https://github.com/isdk/ai-tool.js/commit/c777bb6e645add677a17acc3640bc0e72fc6c7d3))
* **ToolFunc:** name as optional in FuncParam ([f5588d5](https://github.com/isdk/ai-tool.js/commit/f5588d5cce11ca96b86fd6927e1602bbc87a3cb4))
* ts declarations ([006bfb8](https://github.com/isdk/ai-tool.js/commit/006bfb84c0bb90096b5a2279de50af4202db9b0a))
* **ts:** AIModelNameRuleFn should return string|RegExpExecArray|undefined instead of boolean ([afc2507](https://github.com/isdk/ai-tool.js/commit/afc2507d5612fb3603dd2e96c8daee3663132251))
* **ts:** id in res-server allow number ([57fd229](https://github.com/isdk/ai-tool.js/commit/57fd22957034e93e8b05617606cb420567734fab))
* **ts:** minor change ([d6313e1](https://github.com/isdk/ai-tool.js/commit/d6313e12e13adbbfb9828593f5fa7b8b49c86c0d))
* **ts:** minor change ([7b740dd](https://github.com/isdk/ai-tool.js/commit/7b740ddf45b0455033154a30359f2d3a41a45905))
* **ts:** minor changes ([af509bc](https://github.com/isdk/ai-tool.js/commit/af509bc7856e311da623c558cc8cd8b85e11ac8b))
* **ts:** what AlreadyExistsError allow number ([7139eb0](https://github.com/isdk/ai-tool.js/commit/7139eb094cd3c437df9329d459d8366e09c90bab))
